---
title: "内部工单小程序"
description: "用于管理工作订单、生产流程和销售集成的生产计划与监控系统"
tags:
  - 生产计划
  - 工单
  - 销售订单集成
  - 工厂监控
  - 流程追踪
weight: 70
---

## 目的与概述

**内部工单小程序**（Internal Job Order Applet）是一个全面的生产计划和监控解决方案。它作为销售需求与工厂执行之间的桥梁，允许团队将销售订单转化为可操作的生产请求，同时跟踪制造过程的每个阶段。

{{< callout type="info" >}}
**核心概念**：系统通过预定义的**流程**（Processes），将**客户需求**（销售订单）转化为**生产任务**（工作订单）。
{{< /callout >}}

### 谁能从中受益？

**销售团队：**

- 立即将销售订单转换为生产请求
- 实时了解生产进度，以便更新客户状态
- 基于当前负载准确估算交货周期
- 生产完成后的自动通知

**生产经理与部门主管（HODs）：**

- 高效分配资源和工作中心
- 识别生产线中的瓶颈
- 全面监督未完成的工单
- 数据驱动的产能规划

**工厂与车间人员：**

- 获得关于工序和顺序的清晰指令
- 简化每个生产阶段的状态报告
- 访问详细的主规格说明
- 减少手动文书工作和沟通错误

### 这解决了什么问题？

**沟通鸿沟问题：**

传统的生产跟踪依赖于白板和电子表格。常见问题包括：

- 销售订单在转化为生产时遗失
- 紧急客户订单状态不明
- 由于缺乏可见性导致工作中心超负荷
- 手动跟踪导致数据错误
- 难以识别生产延迟的根本原因

**内部工单解决方案：**

- **无缝集成** - 直接将生产与销售订单联系起来
- **预定义流程** - 遵循标准化的工厂步骤，确保质量
- **实时监控** - 来自工厂车间的即时状态更新
- **期限与优先级** - 清楚了解哪些任务需要优先处理
- **详细报告** - 全面的待完成报告，防止订单积压

## 关键功能概述

{{< cards >}}
{{< card title="主列表" subtitle="管理工作中心和资源" link="#master-list" >}}

{{< card title="流程" subtitle="定义生产阶段和工作流" link="#processes" >}}

{{< card title="销售订单" subtitle="监控集成的销售需求" link="#sales-order" >}}

{{< card title="生产请求" subtitle="启动并跟踪制造作业" link="#production-request" >}}

{{< card title="未完成报告" subtitle="识别待处理和延迟订单" link="#outstanding-report" >}}
{{< /cards >}}

{{< figure src="/images/internal-job-order-applet/internal-job-order-overview-infographic.png" alt="内部工单小程序概述信息图" caption="内部工单小程序的挑战、解决方案和用户益处的视觉概述。" >}}

---

## 核心概念

### 理解生产框架

每个生产系统都必须解决三个基本方面。内部工单小程序提供结构化处理：

| 维度         | 组件                    | 实际示例               |
| ------------ | ----------------------- | ---------------------- |
| **需求方**   | 销售订单 / 客户         | 零售客户、批发分销商   |
| **生产对象** | 主资料 (SKU) & 工作中心 | 钢制零件 A、铣削中心 1 |
| **加工方式** | Processes & Job Order   | 3阶段装配、定制加工    |

{{< callout type="tip" >}}
**技术说明**：系统通过 `JobOrderMain` 数据结构跟踪活动生产，确保在整个生命周期中维护 `jobOrderNo`、`itemCode` 和 `completionDate` 等字段。
{{< /callout >}}

### 生产层级结构

将生产过程视为一个结构化的流程：

```
制造工厂
│
├── 资源 (主列表) ──→ 正在使用什么？
│   │
│   └── 流程 ──→ 如何制造？
│       │
│       └── 工作订单 ──→ 具体的生产任务
│           │
│           └── 状态更新 ──→ 当前进度跟踪
│
└── 销售集成 ──→ 为什么要生产？
```

### “生产三位一体”

为了有效管理系统，了解**主资料**、**流程**和**工单**如何协同工作至关重要。

| 组件          | 比喻       | 定义                       | 示例                   |
| ------------- | ---------- | -------------------------- | ---------------------- |
| **Master**    | “蓝图”     | 物品或资源的技术规格说明。 | **CNC 机床 01**        |
| **Process**   | “食谱”     | 完成工作所需的步骤序列。   | **钻孔 → 抛光**        |
| **Job Order** | “活动任务” | 为客户请求的实际生产实例。 | **工单 #882 - 500 个** |

**它们如何关联：**

1. 您定义**主列表**（机器、中心和工具）。
2. 您使用这些主资料创建一个**流程**模板。
3. 您生成一个遵循该流程的**工单**（通过生产请求）。
4. 系统根据流程阶段跟踪工单，以报告实时进度。

---

## 快速入门指南

开始使用基本的生产工作流。

### 销售团队：请求生产

**目标：** 只需 4 个步骤即可将客户订单转化为生产任务。

1. **查找需求**：从侧边栏进入 **销售订单**
2. **选择订单**：找到已批准的销售订单行（已过滤需要生产的项目）
3. **定义详情**：选择所需数量并设置 `completionDate`（预计完成日期）
4. **提交**：点击 **生成 Job Order** → 生产团队将立即收到通知

{{< figure src="/images/internal-job-order-applet/job-order-form.png" alt="工单创建/编辑表单" caption="工单表单：定义生产数量、完成日期和 QC 要求。" >}}

---

### 生产团队：监控进度

**目标：** 只需 3 个步骤即可更新和跟踪活动作业的状态。

1. **查看作业**：进入 **生产请求** 仪表板
2. **更新流程**：随着实际工作的完成，更新 **流程状态**（例如，“进行中” → “QC 输出”）
3. **完成作业**：一旦所有阶段完成，将作业标记为已结束以通知销售人员

{{< figure src="/images/internal-job-order-applet/production-request-listing.png" alt="生产请求仪表板" caption="生产请求列表：使用高级搜索和列切换来跟踪活动工单。" >}}

---

### 管理员：初始系统设置

**目标：** 分 4 个步骤配置生产环境。

1. **设置主资料**：在 **主列表** 中定义您的工厂车间资源
2. **构建流程**：在 **流程** 中创建生产工作流（步骤 ID、顺序和持续时间）
3. **配置设置**：在 `设置` 中设置全局参数、自定义状态和字段可见性
4. **测试流程**：创建一个模拟销售订单，并验证生产请求触发是否正确

{{< figure src="/images/internal-job-order-applet/settings-page.png" alt="生产配置设置" caption="配置与设置：定义流程依赖项、自定义状态和打印项。" >}}

---

## 功能模块

### 主列表

生产系统的基础。在这里，您定义工厂的“基础设施”，包括**工作中心**、**资源类型**和**机器选项**。它是所有生产资产的主注册表。

{{< figure src="/images/internal-job-order-applet/master-list.png" alt="主列表管理" caption="主列表：管理工作中心、资源和生产基础设施。" >}}

### 流程

定义您的制造步骤序列。您可以创建不同的流程模板（例如，“标准制造”与“快速组装”），并将它们链接到特定的机器选项以进行自动调度。

{{< figure src="/images/internal-job-order-applet/processes-page.png" alt="生产流程页面" caption="流程：标准化生产阶段、持续时间和资源顺序。" >}}

### 销售订单

所有销售需求的集成视图。此模块过滤需要制造的销售订单行，允许您将任何工单追溯到具体的客户协议。

{{< figure src="/images/internal-job-order-applet/sales-order-list.png" alt="销售订单集成视图" caption="销售订单列表：监控客户需求并启动生产请求。" >}}

### 未完成报告

检测瓶颈的主要工具。它列出了所有超过 `completionDate`（预计完成日期）或在特定 `process_status`（流程状态）停留时间过长的订单，从而实现对工厂延迟的主动管理。

{{< figure src="/images/internal-job-order-applet/outstanding-report.png" alt="未完成生产报告" caption="未完成报告：按部门或分支机构识别延迟并监控待处理工单。" >}}

### 审计追踪与日志

#### Applet Log (`设置 > Applet Log`)

Audit Trail 是您系统的“黑匣子”——记录了所采取的每一个动作的综合日志。

| 动作       | 描述               | 示例                           |
| ---------- | ------------------ | ------------------------------ |
| **CREATE** | 发起新的生产请求   | 用户 A 创建了工单 #JO-2024-001 |
| **UPDATE** | 更改流程状态或数量 | 完成日期移至 2024-12-15        |
| **DELETE** | 移除主资料或流程   | 资源 “中心 01” 已从系统中移除  |

---

## 常见问题 (FAQ)

**问：工单开始后我可以取消吗？**
答：可以，前提是它尚未达到“最终 QC”阶段。取消操作将触发向相关销售代表发送的自动通知。

**问：如果生产数量超过销售订单怎么办？**
答：如果字段设置中允许，系统支持“超产”。多出的 `adHocQty` 通常会单独跟踪或移动到缓冲库存。

**问：一个销售订单可以产出多个工单吗？**
答：可以。您可以将一个大型销售订单拆分为多个较小的工单，以便将工作分配到不同的工作中心或机器上。

**问：如何优先处理紧急订单？**
答：在工单创建期间使用“优先级”标志。这会在生产请求仪表板中突出显示该任务，以便立即关注。

**问：在哪里可以查看修改后的 Job Order 状态历史记录？**
答：查看设置中的 **Applet Log**，获取所有状态转换和用户操作的完整历史记录。

**问：为什么我在流程列表中看不到特定机器？**
答：请确保该机器已在**主列表**中定义，且其状态设置为“活动”。
